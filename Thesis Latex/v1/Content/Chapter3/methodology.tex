\section{Methodology} 
The system designed for this case study was made to reflect a \acf{AV} and its object detection mechanisms. 
The system used multiple techniques to tackle the inherent issues of the \ac{AV} system, i.e. weakness to perturbed inputs and misclassification detection.
The system's sensors include an overhead, 360$^\circ$ \acf{LiDAR} apparatus, and a single, frontal facing camera.
A solitary camera was sufficient to prove the efficacy of this solution, however it is to be noted that \ac{AV} systems generally use multiple cameras, facing different directions, so that the controller can make properly informed decisions.
The system used can be seen in Figure~\ref{fig:ssnn}. 

The \ac{LiDAR} for this system was accurate 93\% of the time~\cite{lidarFusion}, to closely simulate a real \ac{LiDAR} system.
The simulated camera outputs consisted of test images from both the \ac{VOC}~\cite{pascal-voc-2012} and \ac{GTSRB}~\cite{Stallkamp2012-gtsrb} datasets, in a combination of people, vehicles and various traffic signs.
The \ac{LiDAR} and camera outputs were handled by different parts of the controller.
The camera outputs were fed into a \ac{MNN} (see Figure~\ref{fig:mnn}) where they were classified by shape, colour and object.

Utilising synchronous semantics, a \acf{MNN}, containing three other \ac{MNN} ensembles, was created.
Each ensemble synchronously combined the outputs of three different \acfp{SNN}~\cite{sann}, providing increased prediction accuracy for each aspect. 

The system controller was encapsulated by a run-time enforcer~\cite{recps} that used sensor fusion to check for misclassifications made by the \ac{MNN}.
If a misclassification was detected, the enforced policy entered an unstable state. 
Once enough time passed without further misclassifications, the vehicle entered a safe state again.
However, if another misclassification was detected, the enforced policy entered a violation state, forced control of the \ac{AV} away from the controller and gave control to the driver.
The vehicle would not enter autonomous mode again until the system was restarted.
A diagram of the enforced policy's safety automaton is shown in Figure~\ref{fig:signrte}.


\begin{figure}[t]
	\centering
	\includegraphics[scale=0.6]{Content/fig/SSNN.pdf}
	\caption{Block diagram showing the AV system with enforcer \label{fig:ssnn}}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.9]{Content/fig/MNN.pdf}
	\caption{Block diagram showing the Meta Neural Network ensemble. \label{fig:mnn}}
\end{figure}

\begin{figure}[t]
	\centering
	\scalebox{1}{\input{Content/fig/sign-rte.tex}}
	\caption{Enforcer policy for the AV prediction system \label{fig:signrte}}
\end{figure}